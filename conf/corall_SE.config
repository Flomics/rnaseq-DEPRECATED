/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for running the rnaseq pipeline with samples with the CORALL library preparation kit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines input files and everything required to run a fast and simple pipeline test.

    Use as follows:
        nextflow run nf-core/rnaseq -profile corall

----------------------------------------------------------------------------------------
*/

params {

    // Input data
    input = 's3://flomics-data/test_data_RNAseq_pipeline/Flomics_rnaseq_test_SE_CORALL_samplesheet.csv'
    outdir = 's3://flomics-scratch/nextflow-workdir/test/'
    project = 'github_actions'

    // Genome references
    fasta              = 's3://flomics-no-backup/references/Genomes/Homo_sapiens/GENCODE/GRCh38/release-105/Homo_sapiens.GRCh38.dna_sm_v105_SIRV-set3.fa'
    gtf                = 's3://flomics-no-backup/references/Genomes/Homo_sapiens/GENCODE/GRCh38/release-105/gencode.v39.annotation_tRNA_SIRV-set3.sorted.gtf'
    star_index         = 's3://flomics-no-backup/references/Genomes/Homo_sapiens/GENCODE/GRCh38/release-105/STARindex_v2.7.10a/'

    // Other parameters
    aligner            = 'star_salmon'
    gencode            = true
    min_trimmed_reads  = 100
    skip_deseq2_qc     = true
    with_umi             = true
    salmon_quant_libtype =  'ISF'
    umitools_extract_method    = 'string'
    umitools_bc_pattern = 'NNNNNNNNNNNN'

}

process {
    withName : "NFCORE_RNASEQ:RNASEQ:FASTQC_UMITOOLS_TRIMGALORE:TRIMGALORE" {
        ext.args   = '--fastqc -a AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC --stringency 20 --length 20'

                //-a and -a2 are the adapter sequences
                //--stringency 20 is the minimum overlap with adapter sequence required to trim a sequence. Recommended by Lexogen
                //--length 20 Removes reads smaller than this. Default and recommended by Lexogen
                // Lexogen recommends to use -n 2, to remove the adapter a maximum amount of 2 times for each read. This option is not available in trim_galore but it should not be necessary
    }
}
